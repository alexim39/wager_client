<div *ngIf="isEmptyResponse then showResult else noResult"></div>
<ng-template #showResult>
  <section>

    <div class="filter">
        <mat-form-field>
            <mat-label>Search Table</mat-label>
            <input matInput (keyup)="applyFilter($event)" #input>
        </mat-form-field>
    </div>

    <table mat-table [dataSource]="withdrawals" matSort>

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
      
        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef> S/n </th>
          <td mat-cell *matCellDef="let withdraw; let i = index;"> {{i + 1}} </td>
        </ng-container>
      
        <!-- Investment ID Column -->
        <ng-container matColumnDef="Amount">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Withdraw Amount </th>
          <td mat-cell *matCellDef="let withdraw"> {{ withdraw.amount | currency:'NIG':'&#8358;' }} </td>
        </ng-container>
      
        <!-- Amount Column -->
        <ng-container matColumnDef="Bank">
          <th mat-header-cell *matHeaderCellDef  mat-sort-header> Withdraw Bank </th>
          <td mat-cell *matCellDef="let withdraw"> {{ withdraw.bankName | titlecase }} </td>
        </ng-container>

        <!-- Date Column -->
        <ng-container matColumnDef="Account">
          <th mat-header-cell *matHeaderCellDef  mat-sort-header> Withdraw Account </th>
          <td mat-cell *matCellDef="let withdraw"> {{ withdraw.accountNo }} </td>
        </ng-container>
    
        <!-- Start Date Column -->
        <ng-container matColumnDef="Date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Withdraw Date </th>
            <td mat-cell *matCellDef="let withdraw"> {{ withdraw.withdrawDate | date}},<small>{{ withdraw.withdrawDate | date:'shortTime' }}</small></td>
        </ng-container>
    
        <!-- End Date Column -->
        <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Withdraw Status</th>
            <td mat-cell *matCellDef="let withdraw"> {{ withdraw.status | titlecase }}</td> 
        </ng-container>  

         <!-- Action Column -->
         <ng-container matColumnDef="Action">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cancel </th>
            <td mat-cell *matCellDef="let withdraw">
              <button mat-flat-button [disabled]="disable" (click)="cancelWithdrawal(withdraw._id)">Cancel</button>
            </td> 
        </ng-container>
        
        <!-- total withdraw column -->
        <ng-container matColumnDef="withdraw">
          <td mat-footer-cell *matFooterCellDef colspan="7">
            Total Withdraw <span> {{ totalWithdrawal | currency:'NIG':'&#8358;'}}</span>
          </td>
        </ng-container>
    
      

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row   [ngClass]="{'setPendingCSS': setPendingCSS(withdraw.status), 
        'setCompletedCSS': setCompletedCSS(withdraw.status), 
        'setRejectedCSS': setRejectedCSS(withdraw.status)}"
          *matRowDef="let withdraw; columns: displayedColumns;">
        </tr>
        <tr mat-footer-row *matFooterRowDef="['withdraw']"></tr>
      </table>

      <mat-paginator [length]="100" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </section>  
</ng-template>

<ng-template #noResult>
  <div class="isEmptyResponse">
      No withdraw request found
  </div>
</ng-template>
